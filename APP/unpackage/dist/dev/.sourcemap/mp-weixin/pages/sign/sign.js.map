{"version":3,"sources":["uni-app:///main.js","webpack:///D:/lszg/product/APP/pages/sign/sign.vue?c3cd","webpack:///D:/lszg/product/APP/pages/sign/sign.vue?8ad5","webpack:///D:/lszg/product/APP/pages/sign/sign.vue?d768","webpack:///D:/lszg/product/APP/pages/sign/sign.vue?082b","uni-app:///pages/sign/sign.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,0F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACe;;;AAGlE;AAC2K;AAC3K,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iVAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAyoB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0B7pB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCATA,CASA;;AAEA;AACA,iFAZA,CAYA;AACA,gEAbA,CAaA;AACA;AACA,mCADA;AAEA,WAFA;AAGA,YAHA;AAIA,WAJA;AAKA,oBALA;;AAOA,C;AACA;AACA,gBADA;AAEA,MAFA,kBAEA;AACA;AACA,yBADA;AAEA,mBAFA,EAEA;AACA,mBAHA;AAIA,kBAJA,EAIA;AACA;AACA,mBADA;AAEA,mBAFA;AAGA,qBAHA;AAIA,oBAJA,EALA;;;AAYA,GAfA;AAgBA,SAhBA,qBAgBA;AACA;AACA;AACA,KAFA;AAGA;AACA,GArBA;AAsBA,QAtBA,oBAsBA;AACA;AACA;AACA,GAzBA;AA0BA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;AAUA,eAVA,yBAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,yBAFA;;AAIA,WALA;AAMA;AACA,OAXA;AAYA,KAzBA;AA0BA,QA1BA,kBA0BA;AACA;AACA,KA5BA;AA6BA,SA7BA,mBA6BA;AACA;AACA,KA/BA;AAgCA,UAhCA,kBAgCA,CAhCA,EAgCA;AACA;AACA;AACA,KAnCA;AAoCA,WApCA,mBAoCA,CApCA,EAoCA;AACA;AACA,KAtCA;AAuCA,eAvCA,uBAuCA,CAvCA,EAuCA;AACA;AACA,KAzCA;AA0CA,cA1CA,wBA0CA;AACA;AACA;AACA;AACA,4BADA;AAEA,qBAFA;;AAIA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,2BAFA;AAGA;AACA;AACA,sCADA;AAEA,6BAFA;;AAIA,eARA;;AAUA,WAZA,MAYA;AACA;AACA,2BADA;AAEA,iCAFA;;AAIA;AACA,SAnBA;;AAqBA;AACA,KAxEA,EA1BA,E","file":"pages/sign/sign.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sign/sign.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sign.vue?vue&type=template&id=10dbb326&\"\nvar renderjs\nimport script from \"./sign.vue?vue&type=script&lang=js&\"\nexport * from \"./sign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sign.less?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sign/sign.vue\"\nexport default component.exports","export * from \"-!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sign.vue?vue&type=template&id=10dbb326&\"","var components\ntry {\n  components = {\n    uniCalendar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-calendar/components/uni-calendar/uni-calendar\" */ \"@/uni_modules/uni-calendar/components/uni-calendar/uni-calendar.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../开发环境/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sign.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"calendar-content\" v-if=\"showCalendar\">\r\n\t\t\t<view>\r\n\t\t\t\t<!-- 插入模式 -->\r\n\t\t\t\t<uni-calendar class=\"uni-calendar--hook\" :selected=\"info.selected\" :showMonth=\"false\" @change=\"change\" @monthSwitch=\"monthSwitch\" />\r\n\t\t\t</view>\r\n\t\t\t<!-- <uni-section class=\"hideOnPc\" title=\"弹出模式\" type=\"line\"></uni-section> -->\r\n\t\t\t<!-- <view class=\"example-body hideOnPc\">\r\n\t\t\t\t<button class=\"calendar-button\" type=\"button\" @click=\"open\">打开日历</button>\r\n\t\t\t</view> -->\r\n\t\t\t<uni-calendar ref=\"calendar\" class=\"uni-calendar--hook\" :clear-date=\"true\" :date=\"info.date\" :insert=\"info.insert\" :lunar=\"info.lunar\" :startDate=\"info.startDate\"\r\n\t\t\t :endDate=\"info.endDate\" :range=\"info.range\" @confirm=\"confirm\" @close=\"close\"/>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t\t<view class=\"bottom dis\">\r\n\t\t\t<view class=\"in dis\" @click=\"signSubmit\">\r\n\t\t\t\t立即签到\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * 获取任意时间\r\n\t */\r\n\tfunction getDate(date, AddDayCount = 0) {\r\n\t\tif (!date) {\r\n\t\t\tdate = new Date()\r\n\t\t}\r\n\t\tif (typeof date !== 'object') {\r\n\t\t\tdate = date.replace(/-/g, '/')\r\n\t\t}\r\n\t\tconst dd = new Date(date)\r\n\r\n\t\tdd.setDate(dd.getDate() + AddDayCount) // 获取AddDayCount天后的日期\r\n\r\n\t\tconst y = dd.getFullYear()\r\n\t\tconst m = dd.getMonth() + 1 < 10 ? '0' + (dd.getMonth() + 1) : dd.getMonth() + 1 // 获取当前月份的日期，不足10补0\r\n\t\tconst d = dd.getDate() < 10 ? '0' + dd.getDate() : dd.getDate() // 获取当前几号，不足10补0\r\n\t\treturn {\r\n\t\t\tfullDate: y + '-' + m + '-' + d,\r\n\t\t\tyear: y,\r\n\t\t\tmonth: m,\r\n\t\t\tdate: d,\r\n\t\t\tday: dd.getDay()\r\n\t\t}\r\n\t}\r\n\texport default {\r\n\t\tcomponents: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowCalendar: false,\r\n        dateObj: null, //日历点击获取的事件对象\r\n        nowDate: null,\r\n        dateList: [], //已签到日期列表\r\n\t\t\t\tinfo: {\r\n\t\t\t\t\tlunar: true,\r\n\t\t\t\t\trange: true,\r\n\t\t\t\t\tinsert: false,\r\n\t\t\t\t\tselected: []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.showCalendar = true\r\n\t\t\t})\r\n\t\t\t// TODO 模拟请求异步同步数据\r\n\t\t},\r\n    onLoad() {\r\n      this.getDateList()\r\n      this.initNowDay()\r\n    },\r\n\t\tmethods: {\r\n      initNowDay() {\r\n        // 获取当天日期\r\n        let date = new Date()\r\n        let year = date.getFullYear()\r\n        let month = date.getMonth() + 1\r\n        let day = date.getDate()\r\n        console.log(day);\r\n        this.nowDate = year + '-' + month + '-' + day\r\n      },\r\n      getDateList() {\r\n        // 获取签到列表\r\n        const that = this;\r\n        this.$fn.request('/my_sign',\"GET\").then((res)=> {\r\n          console.log(res,'签到列表');\r\n          if(res.data.data.length > 0) {\r\n            let data = res.data.data\r\n            data.forEach((item,index) => {\r\n              that.info.selected.push({\r\n              \tdate: item,\r\n              \tinfo: '已签到'\r\n              })\r\n            })\r\n          }\r\n        })\r\n      },\r\n\t\t\topen() {\r\n\t\t\t\tthis.$refs.calendar.open()\r\n\t\t\t},\r\n\t\t\tclose(){\r\n\t\t\t\tconsole.log('弹窗关闭');\r\n\t\t\t},\r\n\t\t\tchange(e) {\r\n\t\t\t\t// 模拟动态打卡\r\n        this.dateObj = e\r\n\t\t\t},\r\n\t\t\tconfirm(e) {\r\n\t\t\t\tconsole.log('confirm 返回:', e)\r\n\t\t\t},\r\n\t\t\tmonthSwitch(e) {\r\n\t\t\t\tconsole.log('monthSwitchs 返回:', e)\r\n\t\t\t},\r\n      signSubmit() {\r\n        console.log(this.dateObj);\r\n        if(this.dateObj) {\r\n          this.info.selected.push({\r\n          \tdate: this.nowDate,\r\n          \tinfo: '已签到'\r\n          })\r\n        }else {\r\n          this.$fn.request('/sign',\"GET\").then((res)=> {\r\n            if(res.data.code == 1) {\r\n              // 接口成功\r\n              uni.showToast({\r\n                icon: 'success',\r\n                title: '签到成功',\r\n                success: ()=> {\r\n                  this.info.selected.push({\r\n                  \tdate: this.nowDate,\r\n                  \tinfo: '已签到'\r\n                  })\r\n                }\r\n              })\r\n            } else {\r\n              uni.showToast({\r\n                icon:'error',\r\n                title: res.data.msg\r\n              })\r\n            }\r\n          })\r\n          \r\n        }\r\n      }\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" src='./sign.less'>\r\n\r\n</style>\r\n"],"sourceRoot":""}