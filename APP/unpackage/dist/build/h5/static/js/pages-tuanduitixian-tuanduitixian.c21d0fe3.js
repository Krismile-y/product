(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tuanduitixian-tuanduitixian"],{"0186":function(a,e,t){var n=t("27a0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var i=t("4f06").default;i("520eb734",n,!0,{sourceMap:!1,shadowMode:!1})},"02fc":function(a,e,t){"use strict";var n=t("0186"),i=t.n(n);i.a},"0850":function(a,e,t){"use strict";t.r(e);var n=t("0d5f"),i=t.n(n);for(var o in n)"default"!==o&&function(a){t.d(e,a,(function(){return n[a]}))}(o);e["default"]=i.a},"0d5f":function(a,e,t){"use strict";var n=t("4ea4");t("4160"),t("a434"),t("d3b7"),t("e25e"),t("ac1f"),t("25f0"),t("5319"),t("1276"),t("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("96cf");var i=n(t("1da1")),o=n(t("e214")),r={components:{numberJpan:o.default},data:function(){return{show:!1,addShow:!1,money:0,cardList:[],info:{money_approve:0,money_team:0,withdraw_pwd:0},nowCard:{},cardText:"请选择",cardTextColor:!1,tiXianpsw:"",valiFormData:{u_back_card:"",u_bank_name:"",u_back_user_name:"",is_default:0},itemsChange:[{value:"1",name:"佣金提现"},{value:"2",name:"津贴提现"}],currentMoney:0,moneyType:"",rules:{u_back_card:{rules:[{required:!0,errorMessage:"请输入正确的银行卡号"},{pattern:"\\d+",errorMessage:"银行卡号只能输入数字"}]},u_bank_name:{rules:[{required:!0,errorMessage:"银行名称不能为空"}]},u_back_user_name:{rules:[{required:!0,errorMessage:"卡用户名不能为空"}]}},sexs:[{text:"否",value:0},{text:"是",value:1}]}},watch:{cardText:function(a){"请选择"!=a&&(this.cardTextColor=!0)}},onReady:function(){},onLoad:function(){this.init()},mounted:function(){var a=this;this.getuserMsg().then((function(){1==a.info.withdraw_pwd?console.log(a.info.withdraw_pwd,"pwd"):(console.log(a.info.withdraw_pwd,"pwd"),a.$refs.error.showTips({msg:"未设置提现密码",duration:1500}),setTimeout((function(){uni.navigateTo({url:"/pages/payPassword/payPassword"})}),2e3))}))},methods:{init:function(){var a=this;this.cardList=[];var e={},t=this;this.$fn.request("my_bank","POST",e).then((function(e){console.log(e,"我的银行卡"),e.data.data.forEach((function(e,n){var i=a.noSpace(e.card);e.card=t.newCardNum(i),t.cardList.push(e),1==e.is_default&&(a.cardText=e.card,a.nowCard=e)}))}))},closeChange:function(a){var e=this;console.log(a,"数字的回调"),this.tiXianpsw=a;var t={money:this.money,u_bank_name:this.nowCard.name,u_back_card:this.nowCard.card,u_back_user_name:this.nowCard.account_name,u_bank_type:this.moneyType,pwd:this.tiXianpsw};console.log(t,"money"),this.$fn.request("team_withdrawal","POST",t).then((function(a){1==a.data.code?(e.$refs.success.showTips({msg:"申请成功",duration:2e3}),e.init(),e.getuserMsg()):e.$refs.error.showTips({msg:a.data.msg,duration:2e3})}))},getuserMsg:function(){var a=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={is_whole:1},e.next=3,a.$fn.request("user","GET",t).then((function(e){console.log(e,"个人信息"),a.info=e.data.data}));case 3:case"end":return e.stop()}}),e)})))()},checkCard:function(a){console.log(a,"信息"),this.cardText=this.noSpace(a.card),this.cardText=this.newCardNum(this.cardText);var e={name:a.name,card:this.cardText,account_name:a.account_name,default:1,bid:a.id};this.editCard(e)},addCard:function(a){var e=this;this.$fn.request("bank","POST",a).then((function(a){e.$refs.success.showTips({msg:"添加银行卡成功",duration:2e3}),e.init(),e.$forceUpdate(),e.close(),e.closeAgain()}))},editCard:function(a){var e=this;this.$fn.request("edit_bank","POST",a).then((function(a){e.$refs.success.showTips({msg:"修改银行卡成功",duration:2e3}),e.init(),e.close()}))},radioChange:function(a){console.log(a,"单选点击"),this.moneyType=a.detail.value},open:function(){this.show=!0},close:function(){this.show=!1},openAgain:function(){this.addShow=!0},closeAgain:function(){this.addShow=!1},noSpace:function(a){return a.replace(/\s/g,"")},newCardNum:function(a){if(void 0!=a&&""!=a){for(var e=a.toString().split(""),t=0;t<e.length;t++)t%5==0&&e.splice(t,0," ");var n=e.join("");return n}},submitForm:function(a){var e=this,t=/[^\u4e00-\u9fa5]/g;this.$refs[a].validate().then((function(a){var n=e.noSpace(a.u_back_card);if(console.log("success",a,n),n.length<=15||n.length>19)e.$refs.error.showTips({msg:"请检查银行卡号输入是否正确",duration:2e3});else if(t.test(a.u_bank_name)||t.test(a.u_back_user_name))e.$refs.error.showTips({msg:"请检查银行名称或卡用户名",duration:2e3});else if(a.u_back_user_name!==e.info.user_name)e.$refs.error.showTips({msg:"请检查卡用户名是否正确",duration:2e3});else{var i={name:"",card:"",account_name:"",default:1};i.name=a.u_bank_name,i.card=n,i.account_name=a.u_back_user_name,console.log(i),e.addCard(i)}})).catch((function(a){console.log("err",a)}))},tuanduitixian:function(){0!=this.money?parseInt(this.info.money_team)+parseInt(this.info.money_hire)<this.money?this.$refs.error.showTips({msg:"可提现余额不足",duration:2e3}):this.$refs.numberJpan.open():this.$refs.error.showTips({msg:"请输入提现金额",duration:2e3})}}};e.default=r},"27a0":function(a,e,t){var n=t("24fb"),i=t("1de5"),o=t("f3da");e=n(!1);var r=i(o);e.push([a.i,".withdrawal[data-v-a6a33ce2]{width:100%}.withdrawal .head-box[data-v-a6a33ce2]{width:100%;height:%?344?%;background-image:url("+r+");background-repeat:no-repeat;background-size:100% 100%;box-sizing:border-box;padding:%?67?% 0 0}.withdrawal .head-box .head-text[data-v-a6a33ce2]{width:100%;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#fff;opacity:.95;text-align:center}.withdrawal .head-box .head-num[data-v-a6a33ce2]{width:100%;text-align:center;font-size:%?56?%;font-family:PingFangSC-Semibold,PingFang SC;font-weight:600;color:#fff;letter-spacing:2px;margin-top:%?24?%}.withdrawal .content-box[data-v-a6a33ce2]{width:100%;margin-top:%?-86?%;height:calc(100vh - %?258?%);background:#f7f8fa;border-radius:%?32?% %?32?% %?0?% %?0?%;box-sizing:border-box;padding:%?40?% %?24?% 0}.withdrawal .content-box .content-title[data-v-a6a33ce2]{display:flex;align-items:center;margin-bottom:%?36?%;width:100%}.withdrawal .content-box .content-title .shu[data-v-a6a33ce2]{width:%?10?%;height:%?24?%;background:#02ad70;border-radius:%?5?%;margin-right:%?12?%}.withdrawal .content-box .content-title .title-text[data-v-a6a33ce2]{height:%?40?%;font-size:%?28?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#272727;line-height:%?40?%}.withdrawal .content-box .money-num[data-v-a6a33ce2] .u-text__value{font-size:%?64?%!important;font-family:PingFangSC-Medium,PingFang SC;font-weight:550;color:#272727}.withdrawal .content-box .money-num[data-v-a6a33ce2] .uni-input-input{font-size:%?54?%!important;font-family:PingFangSC-Medium,PingFang SC;font-weight:550;color:#272727}.withdrawal .cardChange[data-v-a6a33ce2]{width:100%;height:%?102?%;box-sizing:border-box;border-bottom:%?1?% solid #e5e5e5;display:flex;align-items:center}.withdrawal .cardChange .left[data-v-a6a33ce2]{font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#272727}.withdrawal .cardChange .center[data-v-a6a33ce2]{flex:1;text-align:right;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#8e8e8e}.withdrawal .cardChange .cardNumcolor[data-v-a6a33ce2]{font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#272727}.withdrawal .cardChange uni-image[data-v-a6a33ce2]{width:%?32?%;height:%?32?%;-webkit-transform:rotate(270deg);transform:rotate(270deg);margin-left:%?10?%}.withdrawal .bottom-fixd[data-v-a6a33ce2]{position:fixed;bottom:0;left:0;width:100%;height:%?180?%;background:#fff}.withdrawal .bottom-fixd .bot-btn[data-v-a6a33ce2]{width:%?686?%;height:%?80?%;background:#02ae71;border-radius:%?100?%;margin:%?16?% auto 0;font-size:%?28?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#fff;line-height:%?80?%;text-align:center}.withdrawal .popupBox[data-v-a6a33ce2]{width:100%;height:%?836?%;background:#f7f8fa;border-radius:%?32?% %?32?% %?0?% %?0?%;box-sizing:border-box;padding:%?24?% %?24?% 0;position:relative;overflow-y:scroll}.withdrawal .popupBox .popupBox-title[data-v-a6a33ce2]{width:100%;text-align:center;font-size:%?36?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#272727;margin-bottom:%?24?%}.withdrawal .popupBox .btn-group[data-v-a6a33ce2]{width:100%;position:fixed;bottom:%?64?%;left:0;display:flex;justify-content:space-evenly}.withdrawal .popupBox .btn-group .quxiao[data-v-a6a33ce2]{width:%?327?%;height:%?80?%;border-radius:%?40?%;border:%?2?% solid #8e8e8e;font-size:%?28?%;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#8e8e8e;line-height:%?80?%;text-align:center}.withdrawal .popupBox .btn-group .wancheng[data-v-a6a33ce2]{width:%?327?%;height:%?80?%;background:#02ae71;border-radius:%?100?%;font-size:%?28?%;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#fff;line-height:%?80?%;text-align:center}.withdrawal .popupBox .card-item[data-v-a6a33ce2]{background:linear-gradient(180deg,#34d099 0,#07c07e);margin-bottom:%?20?%;border-radius:%?25?%;width:100%;height:%?200?%;box-sizing:border-box;padding:%?20?% %?40?%;color:#fff;position:relative}.withdrawal .popupBox .card-item .card-name[data-v-a6a33ce2]{font-size:16px;margin-bottom:%?10?%}.withdrawal .popupBox .card-item .username[data-v-a6a33ce2]{font-size:14px;margin-bottom:%?10?%}.withdrawal .popupBox .card-item .card-number[data-v-a6a33ce2]{font-size:18px;margin-bottom:%?10?%}.withdrawal .popupBox .card-item .defaultText[data-v-a6a33ce2]{border:%?1?% solid #fff;border-radius:%?12?%;box-sizing:border-box;padding:%?2?% %?8?% %?6?%;color:#fff;position:absolute;font-size:%?20?%;bottom:%?12?%;right:%?12?%}.withdrawal .popupBox .addCard[data-v-a6a33ce2]{width:100%;height:%?160?%;background-color:#fff;box-sizing:border-box;padding:%?10?% %?20?%;display:flex;align-items:center;border-radius:%?25?%}.withdrawal .popupBox .addCard uni-image[data-v-a6a33ce2]{width:%?80?%;height:%?80?%}.withdrawal .popupBox .addCard .addtext[data-v-a6a33ce2]{flex:1;line-height:%?160?%;color:#5e6570;font-size:16px;margin-left:%?20?%}.withdrawal .label-item[data-v-a6a33ce2]{width:100%;box-sizing:border-box;padding:%?10?% 0;display:flex;justify-content:space-between}.withdrawal .radioTitle[data-v-a6a33ce2]{margin:%?30?% 0 0;margin-bottom:0!important}",""]),a.exports=e},7836:function(a,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return n}));var n={airelFloatball:t("5664").default,"u-Input":t("7ca8").default,uPopup:t("a41f").default,uniForms:t("49cb").default,uniFormsItem:t("e6ca").default,uniEasyinput:t("ca56").default},i=function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("v-uni-view",{staticClass:"withdrawal"},[n("airel-floatball"),n("Tips",{ref:"success",attrs:{position:"center",backgroundColor:"#dbf1e1",color:"#07c07e",size:"30"}}),n("Tips",{ref:"error",attrs:{position:"center",backgroundColor:"red",color:"#fff",size:"30"}}),n("v-uni-view",{staticClass:"head-box"},[n("v-uni-view",{staticClass:"head-text"},[a._v("团队可提现余额")]),n("v-uni-view",{staticClass:"head-num"},[a._v(a._s(parseInt(a.info.money_team)+parseInt(a.info.money_hire)))])],1),n("v-uni-view",{staticClass:"content-box"},[n("v-uni-view",{staticClass:"content-title"},[n("v-uni-view",{staticClass:"shu"}),n("v-uni-view",{staticClass:"title-text"},[a._v("提现金额")])],1),n("v-uni-view",{staticClass:"money-num"},[n("u--input",{attrs:{placeholder:"请输入提现金额",border:"bottom",clearable:!0},model:{value:a.money,callback:function(e){a.money=e},expression:"money"}})],1),n("v-uni-view",{staticClass:"uni-list"},[n("v-uni-view",{staticClass:"content-title radioTitle"},[n("v-uni-view",{staticClass:"shu"}),n("v-uni-view",{staticClass:"title-text"},[a._v("选择提现目标")])],1),n("v-uni-radio-group",{on:{change:function(e){arguments[0]=e=a.$handleEvent(e),a.radioChange.apply(void 0,arguments)}}},a._l(a.itemsChange,(function(e,t){return n("v-uni-label",{key:e.value,staticClass:"uni-list-cell uni-list-cell-pd label-item"},[n("v-uni-view",[a._v(a._s(e.name+"("+(0==t?a.info.money_hire:a.info.money_team)+")"))]),n("v-uni-view",[n("v-uni-radio",{attrs:{value:e.value,checked:t===a.currentMoney}})],1)],1)})),1)],1),n("v-uni-view",{staticClass:"cardChange",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.open()}}},[n("v-uni-view",{staticClass:"left"},[a._v("银行卡")]),n("v-uni-view",{staticClass:"center",class:{cardNumcolor:a.cardTextColor}},[a._v(a._s(a.cardText))]),n("v-uni-image",{attrs:{src:t("e294"),mode:""}})],1)],1),n("v-uni-view",{staticClass:"bottom-fixd"},[n("v-uni-view",{staticClass:"bot-btn",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.tuanduitixian.apply(void 0,arguments)}}},[a._v("提交申请")])],1),n("u-popup",{attrs:{show:a.show,mode:"bottom",round:16},on:{close:function(e){arguments[0]=e=a.$handleEvent(e),a.close.apply(void 0,arguments)},open:function(e){arguments[0]=e=a.$handleEvent(e),a.open.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"popupBox"},[n("v-uni-view",{staticClass:"popupBox-title"},[a._v("银行卡选择")]),a._l(a.cardList,(function(e,t){return n("v-uni-view",{key:t,staticClass:"card-item",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.checkCard(e)}}},[n("v-uni-view",{staticClass:"card-name"},[a._v(a._s(e.name))]),n("v-uni-view",{staticClass:"username"},[a._v(a._s(e.account_name))]),n("v-uni-view",{staticClass:"card-number"},[a._v(a._s(e.card))]),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==e.is_default,expression:"(item.is_default==1)"}],staticClass:"defaultText"},[a._v("当前选中")])],1)})),n("v-uni-view",{staticClass:"addCard",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.openAgain()}}},[n("v-uni-image",{attrs:{src:t("1f2e"),mode:""}}),n("v-uni-view",{staticClass:"addtext"},[a._v("添加银行卡")])],1)],2)],1),n("u-popup",{attrs:{show:a.addShow,mode:"bottom",round:16},on:{close:function(e){arguments[0]=e=a.$handleEvent(e),a.closeAgain.apply(void 0,arguments)},open:function(e){arguments[0]=e=a.$handleEvent(e),a.openAgain.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"popupBox"},[n("v-uni-view",{staticClass:"popupBox-title"},[a._v("银行卡填写")]),n("uni-forms",{ref:"valiForm",attrs:{rules:a.rules,modelValue:a.valiFormData,"label-width":80}},[n("uni-forms-item",{attrs:{label:"银行卡号",name:"u_back_card",required:!0}},[n("uni-easyinput",{attrs:{type:"text",placeholder:"请输入银行卡号(只能输入数字)"},model:{value:a.valiFormData.u_back_card,callback:function(e){a.$set(a.valiFormData,"u_back_card",e)},expression:"valiFormData.u_back_card"}})],1),n("uni-forms-item",{attrs:{required:!0,name:"u_bank_name",label:"银行名称"}},[n("uni-easyinput",{attrs:{type:"text",placeholder:"请输入银行名称"},model:{value:a.valiFormData.u_bank_name,callback:function(e){a.$set(a.valiFormData,"u_bank_name",e)},expression:"valiFormData.u_bank_name"}})],1),n("uni-forms-item",{attrs:{required:!0,name:"u_back_user_name",label:"卡用户名"}},[n("uni-easyinput",{attrs:{type:"text",placeholder:"请输入卡用户名"},model:{value:a.valiFormData.u_back_user_name,callback:function(e){a.$set(a.valiFormData,"u_back_user_name",e)},expression:"valiFormData.u_back_user_name"}})],1)],1),n("v-uni-view",{staticClass:"btn-group"},[n("v-uni-view",{staticClass:"quxiao",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.closeAgain.apply(void 0,arguments)}}},[a._v("取消")]),n("v-uni-view",{staticClass:"wancheng",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.submitForm("valiForm")}}},[a._v("填写完成")])],1)],1)],1),n("numberJpan",{ref:"numberJpan",attrs:{length:6,showNum:!1},on:{closeChange:function(e){arguments[0]=e=a.$handleEvent(e),a.closeChange(e)}}})],1)},o=[]},"887c":function(a,e,t){"use strict";t.r(e);var n=t("7836"),i=t("0850");for(var o in i)"default"!==o&&function(a){t.d(e,a,(function(){return i[a]}))}(o);t("02fc");var r,s=t("f0c5"),d=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"a6a33ce2",null,!1,n["a"],r);e["default"]=d.exports}}]);